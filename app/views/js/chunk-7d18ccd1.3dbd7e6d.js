(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d18ccd1"],{"57e5":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("div",[n("v-card",{staticClass:"mx-auto",attrs:{tile:""}},[n("v-img",{staticClass:"white--text",attrs:{position:"bottom",height:"70px",src:a("d999")}},[n("v-card-text",{staticClass:"text-right text-h6 font-weight-black"},[t._v(" BRANCH LIST ")])],1)],1),n("v-row",{staticClass:"mt-2"},[n("v-col",{attrs:{cols:"12",md:"12"}},[n("v-card",[n("div",{staticClass:"pl-5 pr-5"},[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"12"}},[n("v-card-title",[n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[n("v-btn",t._g(t._b({staticClass:"text-decoration-none",attrs:{color:"primary",to:"/addBranch",dark:"",fab:"",small:""}},"v-btn",r,!1),a),[n("v-icon",[t._v("mdi-plus")])],1)]}}])},[n("span",[t._v("ADD BRANCH")])]),n("v-spacer"),n("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),n("v-data-table",{attrs:{headers:t.headers,items:t.branches,search:t.search,"hide-default-footer":!1},scopedSlots:t._u([{key:"item.numbering",fn:function(e){return[t._v(" "+t._s(e.index+1)+" ")]}},{key:"item.actions",fn:function(e){var a=e.item;return[n("v-chip",{staticClass:"mr-1",attrs:{dark:"",small:"",color:"teal lighten-2"},on:{click:function(e){return t.editBranch(a.id)}}},[n("span",[t._v("EDIT")])]),n("v-chip",{attrs:{dark:"",small:"",color:"red darken-1"},on:{click:function(e){return t.deleteBranch(a.id)}}},[n("span",[t._v("DELETE")])])]}}],null,!0)})],1)],1)],1)])],1)],1)],1)])},r=[],c=(a("d81d"),a("b0c0"),a("fde1")),s={name:"branch-list",data:function(){return{branches:[],name:"",search:"",headers:[{text:"NO.",align:"start",sortable:!1,value:"numbering"},{text:"BRANCH NAME",align:"start",sortable:!1,value:"name"},{text:"BRANCH CODE",align:"center",value:"brCode",sortable:!1},{text:"ACTIONS",align:"center",value:"actions",sortable:!1}]}},methods:{retrieveBranches:function(){var t=this;c["a"].getAll().then((function(e){t.branches=e.data.map(t.getDisplayBranch)})).catch((function(t){console.log(t)}))},refreshList:function(){this.retrieveBranches()},removeAllBranches:function(){var t=this;c["a"].deleteAll().then((function(e){console.log(e.data),t.refreshList()})).catch((function(t){console.log(t)}))},searchName:function(){var t=this;c["a"].findByBranch(this.name).then((function(e){t.branches=e.data.map(t.getDisplayBranch),console.log(e.data)})).catch((function(t){console.log(t)}))},editBranch:function(t){this.$router.push({name:"branch-details",params:{id:t}})},deleteBranch:function(t){var e=this;c["a"].delete(t).then((function(t){e.$store.dispatch("setSnackbar",{showing:!0,text:t&&t.data&&t.data.message||toString()}),e.refreshList()})).catch((function(t){console.log(t)}))},getDisplayBranch:function(t){return{id:t.id,name:t.name.length>30?t.name.substr(0,30)+"...":t.name,brCode:t.brCode.length>30?t.brCode.substr(0,30)+"...":t.brCode}}},mounted:function(){this.retrieveBranches()}},i=s,o=a("2877"),l=a("6544"),d=a.n(l),u=a("8336"),h=a("b0af"),f=a("99d9"),v=a("cc20"),b=a("62ad"),m=a("a523"),p=a("8fea"),g=a("132d"),C=a("adda"),k=a("0fd9"),B=a("2fa4"),x=a("8654"),y=a("3a2f"),V=Object(o["a"])(i,n,r,!1,null,null,null);e["default"]=V.exports;d()(V,{VBtn:u["a"],VCard:h["a"],VCardText:f["a"],VCardTitle:f["b"],VChip:v["a"],VCol:b["a"],VContainer:m["a"],VDataTable:p["a"],VIcon:g["a"],VImg:C["a"],VRow:k["a"],VSpacer:B["a"],VTextField:x["a"],VTooltip:y["a"]})},fde1:function(t,e,a){"use strict";var n=a("d4ec"),r=a("bee2"),c=a("c427"),s=function(){function t(){Object(n["a"])(this,t)}return Object(r["a"])(t,[{key:"getAll",value:function(){return c["a"].get("/branches")}},{key:"get",value:function(t){return c["a"].get("/branches/".concat(t))}},{key:"create",value:function(t){return c["a"].post("/branches",t)}},{key:"update",value:function(t,e){return c["a"].put("/branches/".concat(t),e)}},{key:"delete",value:function(t){return c["a"].delete("/branches/".concat(t))}},{key:"deleteAll",value:function(){return c["a"].delete("/branches")}},{key:"findByBranch",value:function(t){return c["a"].get("/branches?name=".concat(t))}}]),t}();e["a"]=new s}}]);
//# sourceMappingURL=chunk-7d18ccd1.3dbd7e6d.js.map