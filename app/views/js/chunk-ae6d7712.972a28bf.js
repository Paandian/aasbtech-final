(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ae6d7712"],{"0d2f":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("div",[r("v-card",{staticClass:"mx-auto",attrs:{tile:""}},[r("v-img",{staticClass:"white--text",attrs:{position:"bottom",height:"70px",src:a("d999")}},[r("v-card-text",{staticClass:"text-right text-h6 font-weight-black"},[e._v(" USER LIST ")])],1)],1),r("v-row",{staticClass:"mt-2"},[r("v-col",{attrs:{cols:"12",md:"12"}},[r("v-card",[r("div",{staticClass:"pl-5 pr-5"},[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"12"}},[r("v-card-title",[r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,n=t.attrs;return[r("v-btn",e._g(e._b({staticClass:"text-decoration-none",attrs:{color:"primary",to:"/addMember",dark:"",fab:"",small:""}},"v-btn",n,!1),a),[r("v-icon",[e._v("mdi-plus")])],1)]}}])},[r("span",[e._v("ADD USER")])]),r("v-spacer"),r("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),r("v-data-table",{attrs:{headers:e.headers,items:e.members,search:e.search,"hide-default-footer":!1},scopedSlots:e._u([{key:"item.numbering",fn:function(t){return[e._v(" "+e._s(t.index+1)+" ")]}},{key:"item.status",fn:function(t){var a=t.item;return[r("v-chip",{attrs:{color:e.getStatusColor(a.status),dark:"",small:""}},[r("tr",[e._v(" "+e._s(a.status.toLowerCase())+" ")])])]}},{key:"item.roles",fn:function(t){var a=t.item;return[r("v-chip",{attrs:{color:e.getRolesColor(a.roles),dark:"",small:""}},[r("tr",[e._v(" "+e._s(a.roles[0].name.toLowerCase())+" ")])])]}},{key:"item.actions",fn:function(t){var a=t.item;return[r("v-chip",{staticClass:"mr-1",attrs:{dark:"",small:"",color:"teal lighten-2"},on:{click:function(t){return e.editMember(a.id)}}},[r("span",[e._v("EDIT")])]),r("v-chip",{attrs:{dark:"",small:"",color:"red darken-1"},on:{click:function(t){return e.deleteMember(a.id)}}},[r("span",[e._v("DELETE")])])]}}],null,!0)})],1)],1)],1)])],1)],1)],1)])},n=[],s=(a("4de4"),a("caad"),a("d81d"),a("b0c0"),a("9df5")),o={name:"member-list",data:function(){return{members:[],search:"",headers:[{text:"NO.",align:"start",sortable:!1,value:"numbering"},{text:"NAME",align:"start",sortable:!1,value:"username"},{text:"EMAIL",value:"email",sortable:!1},{text:"DEPARTMENT",align:"center",value:"dept",sortable:!1},{text:"BRANCH",align:"center",value:"branch",sortable:!1},{text:"STATUS",align:"center",value:"status",sortable:!1},{text:"ACCESS",align:"center",value:"roles",sortable:!1},{text:"ACTIONS",align:"center",value:"actions",sortable:!1}]}},computed:{memberRoles:function(){return this.members.filter((function(e){return[2].includes(e.id)}))}},methods:{retrieveMembers:function(){var e=this;s["a"].getAll().then((function(t){e.members=t.data.map(e.getDisplayMember)})).catch((function(e){console.log(e)}))},refreshList:function(){this.retrieveMembers()},getRolesColor:function(e){return"ADMIN"==e[0].name?"red":"MANAGER"==e[0].name?"orange":"BRANCH MANAGER"==e[0].name?"indigo":"grey"},getStatusColor:function(e){return"Inactive"==e?"green lighten-2":"green darken-3"},removeAllMembers:function(){var e=this;s["a"].deleteAll().then((function(t){console.log(t.data),e.refreshList()})).catch((function(e){console.log(e)}))},searchUsername:function(){var e=this;s["a"].findByUsername(this.username).then((function(t){e.members=t.data.map(e.getDisplayMember),console.log(t.data)})).catch((function(e){console.log(e)}))},editMember:function(e){this.$router.push({name:"member-details",params:{id:e}})},deleteMember:function(e){var t=this;s["a"].delete(e).then((function(e){t.$store.dispatch("setSnackbar",{showing:!0,text:e&&e.data&&e.data.message||toString()}),t.refreshList()})).catch((function(e){console.log(e)}))},getDisplayMember:function(e){return{id:e.id,username:e.username.length>30?e.username.substr(0,30)+"...":e.username,email:e.email.length>30?e.email.substr(0,30)+"...":e.email,status:e.active?"Active":"Inactive",roles:e.roles,branch:e.branch,dept:e.dept}}},mounted:function(){this.retrieveMembers()}},i=o,l=a("2877"),c=a("6544"),u=a.n(c),m=a("8336"),d=a("b0af"),f=a("99d9"),v=a("cc20"),b=a("62ad"),h=a("a523"),g=a("8fea"),p=a("132d"),k=a("adda"),C=a("0fd9"),x=a("2fa4"),y=a("8654"),A=a("3a2f"),M=Object(l["a"])(i,r,n,!1,null,null,null);t["default"]=M.exports;u()(M,{VBtn:m["a"],VCard:d["a"],VCardText:f["a"],VCardTitle:f["b"],VChip:v["a"],VCol:b["a"],VContainer:h["a"],VDataTable:g["a"],VIcon:p["a"],VImg:k["a"],VRow:C["a"],VSpacer:x["a"],VTextField:y["a"],VTooltip:A["a"]})},"9df5":function(e,t,a){"use strict";var r=a("d4ec"),n=a("bee2"),s=a("c427"),o=function(){function e(){Object(r["a"])(this,e)}return Object(n["a"])(e,[{key:"getAll",value:function(){return s["a"].get("/members")}},{key:"get",value:function(e){return s["a"].get("/members/".concat(e))}},{key:"create",value:function(e){return s["a"].post("/members",e)}},{key:"update",value:function(e,t){return s["a"].put("/members/".concat(e),t)}},{key:"delete",value:function(e){return s["a"].delete("/members/".concat(e))}},{key:"deleteAll",value:function(){return s["a"].delete("/members")}},{key:"findByUsername",value:function(e){return s["a"].get("/members?username=".concat(e))}},{key:"getAllRoles",value:function(){return s["a"].get("/members/userLevel/all")}}]),e}();t["a"]=new o}}]);
//# sourceMappingURL=chunk-ae6d7712.972a28bf.js.map