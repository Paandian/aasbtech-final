(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-72b2a389"],{cb28:function(t,e,a){"use strict";var i=a("d4ec"),n=a("bee2"),s=a("c427"),o=function(){function t(){Object(i["a"])(this,t)}return Object(n["a"])(t,[{key:"getAll",value:function(){return s["a"].get("/depts")}},{key:"get",value:function(t){return s["a"].get("/depts/".concat(t))}},{key:"create",value:function(t){return s["a"].post("/depts",t)}},{key:"update",value:function(t,e){return s["a"].put("/depts/".concat(t),e)}},{key:"delete",value:function(t){return s["a"].delete("/depts/".concat(t))}},{key:"deleteAll",value:function(){return s["a"].delete("/depts")}}]),t}();e["a"]=new o},d93c:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",[i("div",[i("v-card",{staticClass:"mx-auto",attrs:{tile:""}},[i("v-img",{staticClass:"white--text",attrs:{position:"bottom",height:"70px",src:a("d999")}},[i("v-card-text",{staticClass:"text-right text-h6 font-weight-black"},[t._v(" DEPARTMENT LIST ")])],1)],1),i("v-data-table",{staticClass:"elevation-1",attrs:{dense:"",headers:t.headers,items:t.depts,search:t.search},scopedSlots:t._u([{key:"top",fn:function(){return[i("v-toolbar",{attrs:{flat:""}},[i("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,n=e.attrs;return[i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[i("v-btn",t._g(t._b({attrs:{fab:"",small:"",color:"primary",dark:""}},"v-btn",n,!1),Object.assign({},s,a)),[i("v-icon",[t._v("mdi-plus")])],1)]}}],null,!0)},[i("span",[t._v("ADD DEPARTMENT")])])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"text-h5"},[t._v(t._s(t.formTitle))])]),i("v-card-text",[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[i("v-text-field",{attrs:{label:"Name",required:""},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[i("v-text-field",{attrs:{label:"Description",required:""},model:{value:t.editedItem.description,callback:function(e){t.$set(t.editedItem,"description",e)},expression:"editedItem.description"}})],1)],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v(" Cancel ")]),i("v-btn",{attrs:{disabled:t.isAddButtonDisabled,color:"blue darken-1",text:""},on:{click:t.save}},[t._v(" Save ")])],1)],1)],1),i("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),i("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[i("v-card",[i("v-card-title",{staticClass:"text-h5"},[t._v("Are you sure you want to delete "+t._s(t.editedItem.name)+"?")]),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDelete}},[t._v("Cancel")]),i("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.deleteItemConfirm}},[t._v("OK")]),i("v-spacer")],1)],1)],1),i("v-spacer"),i("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":"",clearable:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]},proxy:!0},{key:"item.numbering",fn:function(e){return[t._v(" "+t._s(e.index+1)+" ")]}},{key:"item.actions",fn:function(e){var a=e.item;return[i("v-tooltip",{attrs:{left:"",transition:"fab-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,s=e.attrs;return[i("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(a)}}},"v-icon",s,!1),n),[t._v(" mdi-pencil ")])]}}],null,!0)},[i("span",[t._v(" edit")])]),i("v-tooltip",{attrs:{right:"",transition:"fab-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,s=e.attrs;return[i("v-icon",t._g(t._b({attrs:{small:"",color:"red darken-1"},on:{click:function(e){return t.deleteItem(a)}}},"v-icon",s,!1),n),[t._v(" mdi-delete ")])]}}],null,!0)},[i("span",[t._v(" delete")])])]}}],null,!0)})],1)])},n=[],s=(a("b0c0"),a("a4d3"),a("e01a"),a("d81d"),a("cb28")),o={data:function(){return{dialog:!1,dialogDelete:!1,depts:[],search:"",defaultItem:{id:null,name:"",description:""},editedIndex:-1,editedItem:{id:null,name:"",description:""},headers:[{text:"NO.",align:"start",sortable:!1,value:"numbering"},{text:"NAME",align:"start",sortable:!0,value:"name"},{text:"DESCRIPTION",align:"center",value:"description",sortable:!0},{text:"ACTIONS",align:"center",value:"actions",sortable:!1}]}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"},isAddButtonDisabled:function(){return!(this.editedItem.name&&this.editedItem.description)}},watch:{dialog:function(t){t||this.close()},dialogDelete:function(t){t||this.closeDelete()}},methods:{retrieveDepts:function(){var t=this;s["a"].getAll().then((function(e){t.depts=e.data.map(t.getDisplayDept)})).catch((function(t){console.log(t)}))},refreshList:function(){this.retrieveDepts()},getDisplayDept:function(t){return{id:t.id,name:t.name.length>30?t.name.substr(0,30)+"...":t.name,description:t.description.length>30?t.description.substr(0,30)+"...":t.description}},editItem:function(t){this.editedIndex=this.depts.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t){this.editedIndex=this.depts.indexOf(t),this.editedItem=Object.assign({},t),this.dialogDelete=!0},deleteItemConfirm:function(){var t=this;s["a"].delete(this.editedItem.id).then((function(e){t.$store.dispatch("setSnackbar",{showing:!0,color:"error",text:e&&e.data&&e.data.message||toString()}),t.refreshList()})).catch((function(t){console.log(t)})),this.closeDelete()},close:function(){var t=this;this.dialog=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},closeDelete:function(){var t=this;this.dialogDelete=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},save:function(){var t=this;if(this.editedIndex>-1)s["a"].update(this.editedItem.id,this.editedItem).then((function(e){t.close(),t.$store.dispatch("setSnackbar",{showing:!0,color:"warning",text:e&&e.data&&e.data.message||toString()}),t.refreshList()})).catch((function(t){console.log(t)}));else{var e={name:this.editedItem.name,description:this.editedItem.description};s["a"].create(e).then((function(e){t.editedItem.id=e.data.id,t.close(),t.$store.dispatch("setSnackbar",{showing:!0,color:"success",text:e&&e.data&&e.data.message||toString()}),t.refreshList()})).catch((function(e){t.$store.dispatch("setSnackbar",{showing:!0,text:e.response&&e.response.data&&e.response.data.message||e.message||toString()})}))}this.close()}},mounted:function(){this.retrieveDepts()}},d=o,r=a("2877"),c=a("6544"),l=a.n(c),u=a("8336"),v=a("b0af"),m=a("99d9"),f=a("62ad"),p=a("a523"),h=a("8fea"),g=a("169a"),b=a("ce7e"),x=a("132d"),I=a("adda"),k=a("0fd9"),_=a("2fa4"),D=a("8654"),w=a("71d9"),y=a("3a2f"),C=Object(r["a"])(d,i,n,!1,null,null,null);e["default"]=C.exports;l()(C,{VBtn:u["a"],VCard:v["a"],VCardActions:m["a"],VCardText:m["b"],VCardTitle:m["c"],VCol:f["a"],VContainer:p["a"],VDataTable:h["a"],VDialog:g["a"],VDivider:b["a"],VIcon:x["a"],VImg:I["a"],VRow:k["a"],VSpacer:_["a"],VTextField:D["a"],VToolbar:w["a"],VTooltip:y["a"]})}}]);
//# sourceMappingURL=chunk-72b2a389.913249f5.js.map