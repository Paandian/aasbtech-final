(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d18ccd1"],{"57e5":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("div",[n("v-card",{staticClass:"mx-auto",attrs:{tile:""}},[n("v-img",{staticClass:"white--text",attrs:{position:"bottom",height:"70px",src:a("d999")}},[n("v-card-text",{staticClass:"text-right text-h6 font-weight-black"},[e._v(" BRANCH LIST ")])],1)],1),n("v-data-table",{staticClass:"elevation-1",attrs:{dense:"",headers:e.headers,items:e.branches,search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:""}},[n("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,i=t.attrs;return[n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[n("v-btn",e._g(e._b({attrs:{fab:"",small:"",color:"primary",dark:""}},"v-btn",i,!1),Object.assign({},s,a)),[n("v-icon",[e._v("mdi-plus")])],1)]}}],null,!0)},[n("span",[e._v("ADD BRANCH")])])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),n("v-card-text",[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[n("v-text-field",{attrs:{label:"Name"},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),n("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[n("v-text-field",{attrs:{label:"Code"},model:{value:e.editedItem.brCode,callback:function(t){e.$set(e.editedItem,"brCode",t)},expression:"editedItem.brCode"}})],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancel ")]),n("v-btn",{attrs:{disabled:e.isAddButtonDisabled,color:"blue darken-1",text:""},on:{click:e.save}},[e._v(" Save ")])],1)],1)],1),n("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),n("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[n("v-card",[n("v-card-title",{staticClass:"text-h5"},[e._v("Are you sure you want to delete "+e._s(e.editedItem.name)+"?")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK")]),n("v-spacer")],1)],1)],1),n("v-spacer"),n("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":"",clearable:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0},{key:"item.numbering",fn:function(t){return[e._v(" "+e._s(t.index+1)+" ")]}},{key:"item.actions",fn:function(t){var a=t.item;return[n("v-tooltip",{attrs:{left:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,s=t.attrs;return[n("v-icon",e._g(e._b({staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(a)}}},"v-icon",s,!1),i),[e._v(" mdi-pencil ")])]}}],null,!0)},[n("span",[e._v(" edit")])]),n("v-tooltip",{attrs:{right:"",transition:"fab-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,s=t.attrs;return[n("v-icon",e._g(e._b({attrs:{small:"",color:"red darken-1"},on:{click:function(t){return e.deleteItem(a)}}},"v-icon",s,!1),i),[e._v(" mdi-delete ")])]}}],null,!0)},[n("span",[e._v(" delete")])])]}}],null,!0)})],1)])},i=[],s=(a("b0c0"),a("d81d"),a("fde1")),r={data:function(){return{dialog:!1,dialogDelete:!1,branches:[],search:"",defaultItem:{id:null,name:"",brCode:""},editedIndex:-1,editedItem:{id:null,name:"",brCode:""},headers:[{text:"NO.",align:"start",sortable:!1,value:"numbering"},{text:"NAME",align:"start",sortable:!0,value:"name"},{text:"CODE",align:"center",value:"brCode",sortable:!0},{text:"ACTIONS",align:"center",value:"actions",sortable:!1}]}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"},isAddButtonDisabled:function(){return!(this.editedItem.name&&this.editedItem.brCode)}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},methods:{retrieveBranches:function(){var e=this;s["a"].getAll().then((function(t){e.branches=t.data.map(e.getDisplayBranch)})).catch((function(e){console.log(e)}))},refreshList:function(){this.retrieveBranches()},getDisplayBranch:function(e){return{id:e.id,name:e.name.length>30?e.name.substr(0,30)+"...":e.name,brCode:e.brCode.length>30?e.brCode.substr(0,30)+"...":e.brCode}},editItem:function(e){this.editedIndex=this.branches.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){this.editedIndex=this.branches.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){var e=this;s["a"].delete(this.editedItem.id).then((function(t){e.$store.dispatch("setSnackbar",{showing:!0,color:"error",text:t&&t.data&&t.data.message||toString()}),e.refreshList()})).catch((function(e){console.log(e)})),this.closeDelete()},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){var e=this;if(this.editedIndex>-1)s["a"].update(this.editedItem.id,this.editedItem).then((function(t){e.close(),e.$store.dispatch("setSnackbar",{showing:!0,color:"warning",text:t&&t.data&&t.data.message||toString()}),e.refreshList()})).catch((function(e){console.log(e)}));else{var t={name:this.editedItem.name,brCode:this.editedItem.brCode};s["a"].create(t).then((function(t){e.editedItem.id=t.data.id,e.close(),e.$store.dispatch("setSnackbar",{showing:!0,color:"success",text:t&&t.data&&t.data.message||toString()}),e.refreshList()})).catch((function(t){e.$store.dispatch("setSnackbar",{showing:!0,text:t.response&&t.response.data&&t.response.data.message||t.message||toString()})}))}this.close()}},mounted:function(){this.retrieveBranches()}},o=r,c=a("2877"),d=a("6544"),l=a.n(d),u=a("8336"),h=a("b0af"),v=a("99d9"),m=a("62ad"),f=a("a523"),b=a("8fea"),g=a("169a"),p=a("ce7e"),x=a("132d"),I=a("adda"),k=a("0fd9"),C=a("2fa4"),_=a("8654"),y=a("71d9"),w=a("3a2f"),D=Object(c["a"])(o,n,i,!1,null,null,null);t["default"]=D.exports;l()(D,{VBtn:u["a"],VCard:h["a"],VCardActions:v["a"],VCardText:v["b"],VCardTitle:v["c"],VCol:m["a"],VContainer:f["a"],VDataTable:b["a"],VDialog:g["a"],VDivider:p["a"],VIcon:x["a"],VImg:I["a"],VRow:k["a"],VSpacer:C["a"],VTextField:_["a"],VToolbar:y["a"],VTooltip:w["a"]})},fde1:function(e,t,a){"use strict";var n=a("d4ec"),i=a("bee2"),s=a("c427"),r=function(){function e(){Object(n["a"])(this,e)}return Object(i["a"])(e,[{key:"getAll",value:function(){return s["a"].get("/branches")}},{key:"get",value:function(e){return s["a"].get("/branches/".concat(e))}},{key:"create",value:function(e){return s["a"].post("/branches",e)}},{key:"update",value:function(e,t){return s["a"].put("/branches/".concat(e),t)}},{key:"delete",value:function(e){return s["a"].delete("/branches/".concat(e))}},{key:"deleteAll",value:function(){return s["a"].delete("/branches")}},{key:"findByBranch",value:function(e){return s["a"].get("/branches?name=".concat(e))}}]),e}();t["a"]=new r}}]);
//# sourceMappingURL=chunk-7d18ccd1.37ca8470.js.map